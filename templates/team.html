{% extends 'base.html' %}

{% block title %}Team{% endblock %}

{% block content %}
<section class="page-hero">
    <div class="page-hero-bg">
        <div class="gfg-orb orb-1"></div>
    </div>
    <div class="container">
        <div class="breadcrumb">
            <a href="{{ url_for('home') }}">Home</a>
            <i data-lucide="chevron-right"></i>
            <span>Team</span>
        </div>
        <h1 class="page-title reveal-up">Our <span class="highlight">Team</span></h1>
        <p class="page-subtitle reveal-up">The dedicated members behind GFG IEC Chapter</p>
    </div>
</section>

<section class="section-block">
    <div class="container">
        <!-- Faculty Section -->
        <div class="team-section">
            <h3 class="team-section-title">
                <i data-lucide="graduation-cap"></i>
                Faculty Coordinators
            </h3>
            <div class="team-grid team-page-grid">
                {% for member in team if member.role == 'Faculty Coordinator' %}
                <div class="team-card glass-card reveal-item faculty-card">
                    <div class="team-avatar-wrapper large clickable" onclick="openImageModal('{{ member.image }}', '{{ member.name }}')">
                        <img src="{{ member.image }}" alt="{{ member.name }}" class="team-avatar">
                        <div class="avatar-ring"></div>
                        <div class="avatar-glow"></div>
                        <div class="image-overlay">
                            <i data-lucide="zoom-in"></i>
                        </div>
                    </div>
                    <div class="team-info">
                        <h3 class="team-name">{{ member.name }}</h3>
                        <span class="team-role faculty">{{ member.role }}</span>
                        <p class="team-details">{{ member.details }}</p>
                    </div>
                    <div class="team-social">
                        {% if member.linkedin %}
                        <a href="{{ member.linkedin }}" target="_blank" class="social-link" title="LinkedIn">
                            <i data-lucide="linkedin"></i>
                        </a>
                        {% endif %}
                        {% if member.email %}
                        <a href="mailto:{{ member.email }}" class="social-link" title="Email">
                            <i data-lucide="mail"></i>
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Core Team Section -->
        <div class="team-section">
            <h3 class="team-section-title">
                <i data-lucide="users"></i>
                Core Team
            </h3>
            <div class="team-grid team-page-grid">
                {% for member in team if member.role != 'Faculty Coordinator' %}
                <div class="team-card glass-card reveal-item">
                    <div class="team-avatar-wrapper clickable" onclick="openImageModal('{{ member.image }}', '{{ member.name }}')">
                        <img src="{{ member.image }}" alt="{{ member.name }}" class="team-avatar">
                        <div class="avatar-ring"></div>
                        <div class="image-overlay">
                            <i data-lucide="zoom-in"></i>
                        </div>
                    </div>
                    <div class="team-info">
                        <h3 class="team-name">{{ member.name }}</h3>
                        <span class="team-role">{{ member.role }}</span>
                        <p class="team-details">{{ member.details }}</p>
                    </div>
                    <div class="team-social">
                        {% if member.linkedin %}
                        <a href="{{ member.linkedin }}" target="_blank" class="social-link" title="LinkedIn">
                            <i data-lucide="linkedin"></i>
                        </a>
                        {% endif %}
                        {% if member.email %}
                        <a href="mailto:{{ member.email }}" class="social-link" title="Email">
                            <i data-lucide="mail"></i>
                        </a>
                        {% endif %}
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<!-- Join Team CTA -->
<section class="section-block section-alt">
    <div class="container">
        <div class="join-team-cta glass-card">
            <div class="join-content">
                <h2>Want to Join Our Team?</h2>
                <p>We're always looking for passionate individuals to join our chapter. Apply for the next recruitment
                    drive!</p>
            </div>
            <a href="https://forms.gle/NGTVzxbYBkLuKgKZA" target="_blank" class="btn-glow">
                <span>Apply Now</span>
                <i data-lucide="send"></i>
            </a>
        </div>
    </div>
</section>

<!-- Image Modal -->
<div id="imageModal" class="image-modal">
    <div class="image-modal-content">
        <button class="close-modal" onclick="closeImageModal()">
            <i data-lucide="x"></i>
        </button>
        <div class="modal-image-wrapper">
            <img id="modalImage" src="" alt="">
            <div class="modal-image-caption">
                <h3 id="modalCaption"></h3>
            </div>
        </div>
    </div>
</div>

<script>
function openImageModal(imageSrc, name) {
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    const caption = document.getElementById('modalCaption');
    
    modal.classList.add('active');
    modalImg.src = imageSrc;
    caption.textContent = name;
    document.body.style.overflow = 'hidden';
    
    // Re-initialize lucide icons for the close button
    if (typeof lucide !== 'undefined') {
        lucide.createIcons();
    }
}

function closeImageModal() {
    const modal = document.getElementById('imageModal');
    modal.classList.remove('active');
    document.body.style.overflow = '';
}

// Close modal when clicking outside the image
document.getElementById('imageModal')?.addEventListener('click', function(e) {
    if (e.target === this) {
        closeImageModal();
    }
});

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        closeImageModal();
    }
});
</script>
{% endblock %}